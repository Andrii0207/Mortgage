{"mappings":"AACA,MAAMA,EAAYC,SAASC,cAAc,UACnCC,EAAqBF,SAASC,cAAc,qBAC5CE,EAAcH,SAASC,cAAc,gBACrCG,EAAsBJ,SAASC,cAAc,oBAC7CI,EAAmBL,SAASC,cAAc,sBAC1CK,EAAUN,SAASC,cAAc,YAEjCM,GADWP,SAASC,cAAc,UACbD,SAASC,cAClC,gCAEIO,EAAcR,SAASC,cAAc,iBAGrCQ,GAFgBT,SAASU,iBAAiB,0BAElC,CACZ,CACEC,GAAI,EACJC,KAAM,OACNC,aAAc,EACdC,QAAS,IACTC,WAAY,IACZC,SAAU,IAEZ,CACEL,GAAI,EACJC,KAAM,SACNC,aAAc,EACdC,QAAS,IACTC,WAAY,IACZC,SAAU,MAKd,SAASC,GAAiBL,KAAEA,EAAID,GAAEA,IAChC,MAAO,oCAAoCA,aACtCC,oYAkDP,SAASM,IArCT,IAA+BC,EAsCzBV,EAAMW,SACRd,EAAQe,UAAUC,IAAI,QACtBvB,EAAUwB,UAAY,GACtBxB,EAAUyB,mBACR,aA1CyBL,EA2CHF,EAAPR,EA1CNgB,KAAIC,GAAQP,EAASO,KAAOC,KAAK,OAmDhD,SAASC,IACPtB,EAAQe,UAAUC,IAAI,QACtBnB,EAAYkB,UAAUQ,OAAO,aAK/B,SAASC,IACP3B,EAAYkB,UAAUC,IAAI,aA1C5BvB,EAAUgC,iBAAiB,SAASC,IAClC,GAA8B,OAA1BA,EAAMC,OAAOC,SACf,OAGF,GAAIF,EAAMC,OAAOE,QAAQ,wBAGvB,OAFAP,SACAQ,QAAQC,IAAIL,EAAMC,OAAOE,QAAQ,gBAAgBG,QAAQ3B,IAI3D,MAAM4B,EAASP,EAAMC,OAAOE,QAAQ,gBAAgBG,QAAQ3B,GACtD6B,EAAO/B,EAAMgC,MAAKf,GACfgB,OAAOH,KAAYb,EAAKf,KAGjCT,EAAmBqB,UA9BrB,UAAqCX,KACnCA,EAAIC,aACJA,EAAYC,QACZA,EAAOC,WACPA,EAAUC,SACVA,IAEA,MAAO,8DAA8DJ,+FACQE,sGACOC,iGACLC,+FACFH,gBAmB9C8B,CAA4BH,MAa7DtB,IAEAd,EAAoB2B,iBAAiB,QAASH,GAC9CrB,EAAmBwB,iBAAiB,QAASH,GAO7CvB,EAAiB0B,iBAAiB,QAASD,GAM3C3B,EAAY4B,iBAAiB,SAE7B,SAAyBC,GACnBA,EAAMC,SAAWD,EAAMY,eACzBd,OAIJ9B,SAAS+B,iBAAiB,WAE1B,SAAmBC,GACE,WAAfA,EAAMa,MACRf,OAIJtB,EAAYuB,iBAAiB,UAE7B,SAAsBC,GACpBA,EAAMc,iBACN,MAAMC,EAAU,GAEC,IAAIC,SAAShB,EAAMC,QAE3BgB,SAAQ,CAACC,EAAOtC,IAAUmC,EAAQnC,GAAQsC,IACnDH,EAAQpC,GAAKwC,KAAKC,MAElB3C,EAAM4C,KAAKN,GAEXf,EAAMC,OAAOqB,QACbxB,IACAZ","sources":["src/js/task.js"],"sourcesContent":["import { save, load } from './localstorage.js';\nconst banksList = document.querySelector('.banks');\nconst banksInformationEl = document.querySelector('.bank-information');\nconst backdropRef = document.querySelector('[data-modal]');\nconst createNewBankBtnRef = document.querySelector('.create_new_bank');\nconst modalCloseBtnRef = document.querySelector('[data-modal-close]');\nconst overlay = document.querySelector('.overlay');\nconst startBtn = document.querySelector('.start');\nconst modalBtnCreateBank = document.querySelector(\n  '.create_new_bank-from-modal'\n);\nconst contactForm = document.querySelector('.contact-form');\nconst onBtnBankList = document.querySelectorAll('.banks__remove--button');\nconst LOCALSTORAGE_KEY = 'bank-list';\nconst banks = [\n  {\n    id: 1,\n    name: 'Mono',\n    interestRate: 5,\n    maxLoan: 500000,\n    minPayment: 1000,\n    loanTerm: 12,\n  },\n  {\n    id: 2,\n    name: 'Privat',\n    interestRate: 7,\n    maxLoan: 1000000,\n    minPayment: 5000,\n    loanTerm: 50,\n  },\n];\n\n// console.log(save(LOCALSTORAGE_KEY, JSON.stringify(banks)));\nfunction createMarkupBank({ name, id }) {\n  return `<li class=\"banks__item\" data-id='${id}'>\n  <p>${name}</p>\n  <div class=\"btn-wrapper\" >\n  <button class=\"banks__edit--button banks-btn\" name=\"edit-bank\" type=\"button\">\n  <svg width=\"20\" height=\"20\">\n              <use href=\"/src/img/symbol-defs.svg#icon-pencil\"></use>\n            </svg>\n  </button>\n   <button  name=\"delete-bank\" class=\"banks__remove--button banks-btn\" type=\"button\">\n\n      </button>\n      </div>\n      </li>`;\n}\nfunction createBankList(banks, callback) {\n  return banks.map(bank => callback(bank)).join('');\n}\n\nfunction createMarkupBankInformation({\n  name,\n  interestRate,\n  maxLoan,\n  minPayment,\n  loanTerm,\n}) {\n  return `<li class=\"bank-keys\">Bank: <span class=\"bank_description\">${name}</span></li>\n      <li class=\"bank-keys\">Mortgage Size, $: <span class=\"bank_description\">${maxLoan}</span></li>\n      <li class=\"bank-keys\">Minimum down payment, $: <span class=\"bank_description\">${minPayment}</span></li>\n      <li class=\"bank-keys\">Loan period, month: <span class=\"bank_description\">${loanTerm}</span></li>\n      <li class=\"bank-keys\">Interest rate, %: <span class=\"bank_description\">${interestRate}</span></li>`;\n}\n\nbanksList.addEventListener('click', event => {\n  if (event.target.nodeName === 'OL') {\n    return;\n  }\n\n  if (event.target.closest('.banks__edit--button')) {\n    onModalCreateNewBank();\n    console.dir(event.target.closest('.banks__item').dataset.id);\n    return;\n  }\n\n  const bankId = event.target.closest('.banks__item').dataset.id;\n  const bank = banks.find(bank => {\n    return Number(bankId) === bank.id;\n  });\n\n  banksInformationEl.innerHTML = createMarkupBankInformation(bank);\n});\n\nfunction checkBankList() {\n  if (banks.length) {\n    overlay.classList.add('hide');\n    banksList.innerHTML = '';\n    banksList.insertAdjacentHTML(\n      'beforeend',\n      createBankList(banks, createMarkupBank)\n    );\n  }\n}\ncheckBankList();\n\ncreateNewBankBtnRef.addEventListener('click', onModalCreateNewBank);\nmodalBtnCreateBank.addEventListener('click', onModalCreateNewBank);\n\nfunction onModalCreateNewBank() {\n  overlay.classList.add('hide');\n  backdropRef.classList.remove('is-hidden');\n}\n\nmodalCloseBtnRef.addEventListener('click', onModalCloseBtn);\n\nfunction onModalCloseBtn() {\n  backdropRef.classList.add('is-hidden');\n}\n\nbackdropRef.addEventListener('click', onBackdropClick);\n\nfunction onBackdropClick(event) {\n  if (event.target === event.currentTarget) {\n    onModalCloseBtn();\n  }\n}\n\ndocument.addEventListener('keydown', onPushEsc);\n\nfunction onPushEsc(event) {\n  if (event.code === 'Escape') {\n    onModalCloseBtn();\n  }\n}\n\ncontactForm.addEventListener('submit', onAddNewBank);\n\nfunction onAddNewBank(event) {\n  event.preventDefault();\n  const newBank = {};\n\n  const formData = new FormData(event.target);\n\n  formData.forEach((value, name) => (newBank[name] = value));\n  newBank.id = Date.now();\n\n  banks.push(newBank);\n\n  event.target.reset();\n  onModalCloseBtn();\n  checkBankList();\n}\n"],"names":["$092455eada913ff4$var$banksList","document","querySelector","$092455eada913ff4$var$banksInformationEl","$092455eada913ff4$var$backdropRef","$092455eada913ff4$var$createNewBankBtnRef","$092455eada913ff4$var$modalCloseBtnRef","$092455eada913ff4$var$overlay","$092455eada913ff4$var$modalBtnCreateBank","$092455eada913ff4$var$contactForm","$092455eada913ff4$var$banks","querySelectorAll","id","name","interestRate","maxLoan","minPayment","loanTerm","$092455eada913ff4$var$createMarkupBank","$092455eada913ff4$var$checkBankList","callback","length","classList","add","innerHTML","insertAdjacentHTML","map","bank","join","$092455eada913ff4$var$onModalCreateNewBank","remove","$092455eada913ff4$var$onModalCloseBtn","addEventListener","event","target","nodeName","closest","console","dir","dataset","bankId","bank1","find","Number","$092455eada913ff4$var$createMarkupBankInformation","currentTarget","code","preventDefault","newBank","FormData","forEach","value","Date","now","push","reset"],"version":3,"file":"index.7e0e351a.js.map"}