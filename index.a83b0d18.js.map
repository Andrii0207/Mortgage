{"mappings":"YAAA,IC0JMA,EAzJAC,EAAYC,SAASC,cAAc,UACnCC,EAAqBF,SAASC,cAAc,qBAC5CE,EAAcH,SAASC,cAAc,gBACrCG,EAAsBJ,SAASC,cAAc,oBAC7CI,EAAmBL,SAASC,cAAc,sBAC1CK,EAAUN,SAASC,cAAc,YAEjCM,GADWP,SAASC,cAAc,UACbD,SAASC,cAClC,gCAEIO,EAAcR,SAASC,cAAc,iBAErCQ,GADgBT,SAASU,iBAAiB,0BACvB,aAErBC,EAAQ,CACV,CACEC,GAAI,EACJC,KAAM,OACNC,aAAc,EACdC,QAAS,IACTC,WAAY,IACZC,SAAU,IAEZ,CACEL,GAAI,EACJC,KAAM,SACNC,aAAc,EACdC,QAAS,IACTC,WAAY,IACZC,SAAU,KAKd,SAASC,EAAiBC,G,IAAEN,EAAFM,EAAEN,KAAMD,EAARO,EAAQP,GAChC,MAAO,qCACFQ,OADsCR,EAAG,aACpCQ,OAALP,EAAK,oYAoDZ,SAASQ,IAvCT,IAA+BC,EAwCzBX,EAAMY,SACRjB,EAAQkB,UAAUC,IAAI,QACtB1B,EAAU2B,UAAY,GACtB3B,EAAU4B,mBACR,aA5CyBL,EA6CHJ,EAAPP,EA5CNiB,KAAI,SAAAC,G,OAAQP,EAASO,MAAOC,KAAK,OAoDhD,SAASC,IACPzB,EAAQkB,UAAUC,IAAI,QACtBtB,EAAYqB,UAAUQ,OAAO,aAK/B,SAASC,IACP9B,EAAYqB,UAAUC,IAAI,aA3C5B1B,EAAUmC,iBAAiB,SAAS,SAAAC,GAClC,GAA8B,OAA1BA,EAAMC,OAAOC,SAAjB,CAIA,GAAIF,EAAMC,OAAOE,QAAQ,wBAGvB,OAFAP,SACAQ,QAAQC,IAAIL,EAAMC,OAAOE,QAAQ,gBAAgBG,QAAQ7B,IAI3D,IAzBmCO,EACnCN,EACAC,EACAC,EACAC,EACAC,EAoBMyB,EAASP,EAAMC,OAAOE,QAAQ,gBAAgBG,QAAQ7B,GACtD+B,EAAOhC,EAAMiC,MAAK,SAAAf,GACtB,OAAOgB,OAAOH,KAAYb,EAAKjB,MAGjCV,EAAmBwB,WA7BnBb,GADmCM,EA8BwBwB,GA7B3D9B,KACAC,EAFmCK,EAEnCL,aACAC,EAHmCI,EAGnCJ,QACAC,EAJmCG,EAInCH,WACAC,EALmCE,EAKnCF,SAEO,8DACsEG,OADRP,EAAK,+FAEUO,OADPL,EAAQ,sGAENK,OADKJ,EAAW,iGAElBI,OADEH,EAAS,+FACEG,OAAbN,EAAa,sBAyFtFhB,EAAYgD,aAAaC,QAAQtC,KAGnCE,EAAQqC,KAAKC,MAAMnD,GACnBuB,KACKA,IA3DTjB,EAAoB8B,iBAAiB,QAASH,GAC9CxB,EAAmB2B,iBAAiB,QAASH,GAO7C1B,EAAiB6B,iBAAiB,QAASD,GAM3C9B,EAAY+B,iBAAiB,SAE7B,SAAyBC,GACnBA,EAAMC,SAAWD,EAAMe,eACzBjB,OAIJjC,SAASkC,iBAAiB,WAE1B,SAAmBC,GACE,WAAfA,EAAMgB,MACRlB,OAIJzB,EAAY0B,iBAAiB,UAE7B,SAAsBC,GACpBA,EAAMiB,iBACN,IAAMC,EAAU,GAEC,IAAIC,SAASnB,EAAMC,QAE3BmB,SAAQ,SAACC,EAAO3C,G,OAAUwC,EAAQxC,GAAQ2C,KACnDH,EAAQzC,GAAK6C,KAAKC,MAElB/C,EAAMgD,KAAKN,GAEXlB,EAAMC,OAAOwB,QACb3B,IACAZ,IAKAyB,aAAae,QAAQpD,EAAkBuC,KAAKc,UAAUnD,O","sources":["src/js/localstorage.js","src/js/task.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n};\n","import { save, load } from './localstorage.js';\nconst banksList = document.querySelector('.banks');\nconst banksInformationEl = document.querySelector('.bank-information');\nconst backdropRef = document.querySelector('[data-modal]');\nconst createNewBankBtnRef = document.querySelector('.create_new_bank');\nconst modalCloseBtnRef = document.querySelector('[data-modal-close]');\nconst overlay = document.querySelector('.overlay');\nconst startBtn = document.querySelector('.start');\nconst modalBtnCreateBank = document.querySelector(\n  '.create_new_bank-from-modal'\n);\nconst contactForm = document.querySelector('.contact-form');\nconst onBtnBankList = document.querySelectorAll('.banks__remove--button');\nconst LOCALSTORAGE_KEY = 'bank-list';\n\nlet banks = [\n  {\n    id: 1,\n    name: 'Mono',\n    interestRate: 5,\n    maxLoan: 500000,\n    minPayment: 1000,\n    loanTerm: 12,\n  },\n  {\n    id: 2,\n    name: 'Privat',\n    interestRate: 7,\n    maxLoan: 1000000,\n    minPayment: 5000,\n    loanTerm: 50,\n  },\n];\n\n// console.log(save(LOCALSTORAGE_KEY, JSON.stringify(banks)));\nfunction createMarkupBank({ name, id }) {\n  return `<li class=\"banks__item\" data-id='${id}'>\n  <p>${name}</p>\n  <div class=\"btn-wrapper\" >\n  <button class=\"banks__edit--button banks-btn\" name=\"edit-bank\" type=\"button\">\n  <svg width=\"20\" height=\"20\">\n              <use href=\"/src/img/symbol-defs.svg#icon-pencil\"></use>\n            </svg>\n  </button>\n   <button  name=\"delete-bank\" class=\"banks__remove--button banks-btn\" type=\"button\">\n\n      </button>\n      </div>\n      </li>`;\n}\nfunction createBankList(banks, callback) {\n  return banks.map(bank => callback(bank)).join('');\n}\n\nfunction createMarkupBankInformation({\n  name,\n  interestRate,\n  maxLoan,\n  minPayment,\n  loanTerm,\n}) {\n  return `<li class=\"bank-keys\">Bank: <span class=\"bank_description\">${name}</span></li>\n      <li class=\"bank-keys\">Mortgage Size, $: <span class=\"bank_description\">${maxLoan}</span></li>\n      <li class=\"bank-keys\">Minimum down payment, $: <span class=\"bank_description\">${minPayment}</span></li>\n      <li class=\"bank-keys\">Loan period, month: <span class=\"bank_description\">${loanTerm}</span></li>\n      <li class=\"bank-keys\">Interest rate, %: <span class=\"bank_description\">${interestRate}</span></li>`;\n}\n\nbanksList.addEventListener('click', event => {\n  if (event.target.nodeName === 'OL') {\n    return;\n  }\n\n  if (event.target.closest('.banks__edit--button')) {\n    onModalCreateNewBank();\n    console.dir(event.target.closest('.banks__item').dataset.id);\n    return;\n  }\n\n  const bankId = event.target.closest('.banks__item').dataset.id;\n  const bank = banks.find(bank => {\n    return Number(bankId) === bank.id;\n  });\n\n  banksInformationEl.innerHTML = createMarkupBankInformation(bank);\n});\n\ncreateBankListFromLocal();\n\nfunction checkBankList() {\n  if (banks.length) {\n    overlay.classList.add('hide');\n    banksList.innerHTML = '';\n    banksList.insertAdjacentHTML(\n      'beforeend',\n      createBankList(banks, createMarkupBank)\n    );\n  }\n}\n\ncreateNewBankBtnRef.addEventListener('click', onModalCreateNewBank);\nmodalBtnCreateBank.addEventListener('click', onModalCreateNewBank);\n\nfunction onModalCreateNewBank() {\n  overlay.classList.add('hide');\n  backdropRef.classList.remove('is-hidden');\n}\n\nmodalCloseBtnRef.addEventListener('click', onModalCloseBtn);\n\nfunction onModalCloseBtn() {\n  backdropRef.classList.add('is-hidden');\n}\n\nbackdropRef.addEventListener('click', onBackdropClick);\n\nfunction onBackdropClick(event) {\n  if (event.target === event.currentTarget) {\n    onModalCloseBtn();\n  }\n}\n\ndocument.addEventListener('keydown', onPushEsc);\n\nfunction onPushEsc(event) {\n  if (event.code === 'Escape') {\n    onModalCloseBtn();\n  }\n}\n\ncontactForm.addEventListener('submit', onAddNewBank);\n\nfunction onAddNewBank(event) {\n  event.preventDefault();\n  const newBank = {};\n\n  const formData = new FormData(event.target);\n\n  formData.forEach((value, name) => (newBank[name] = value));\n  newBank.id = Date.now();\n\n  banks.push(newBank);\n\n  event.target.reset();\n  onModalCloseBtn();\n  checkBankList();\n  onSetLocalStorage();\n}\n\nfunction onSetLocalStorage() {\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(banks));\n}\n\nfunction createBankListFromLocal() {\n  let savedData = localStorage.getItem(LOCALSTORAGE_KEY);\n\n  if (savedData) {\n    banks = JSON.parse(savedData);\n    checkBankList();\n  } else checkBankList();\n}\n"],"names":["savedData","$7e98410f1e7d32f5$var$banksList","document","querySelector","$7e98410f1e7d32f5$var$banksInformationEl","$7e98410f1e7d32f5$var$backdropRef","$7e98410f1e7d32f5$var$createNewBankBtnRef","$7e98410f1e7d32f5$var$modalCloseBtnRef","$7e98410f1e7d32f5$var$overlay","$7e98410f1e7d32f5$var$modalBtnCreateBank","$7e98410f1e7d32f5$var$contactForm","$7e98410f1e7d32f5$var$LOCALSTORAGE_KEY","querySelectorAll","$7e98410f1e7d32f5$var$banks","id","name","interestRate","maxLoan","minPayment","loanTerm","$7e98410f1e7d32f5$var$createMarkupBank","param","concat","$7e98410f1e7d32f5$var$checkBankList","callback","length","classList","add","innerHTML","insertAdjacentHTML","map","bank","join","$7e98410f1e7d32f5$var$onModalCreateNewBank","remove","$7e98410f1e7d32f5$var$onModalCloseBtn","addEventListener","event","target","nodeName","closest","console","dir","dataset","bankId","bank1","find","Number","localStorage","getItem","JSON","parse","currentTarget","code","preventDefault","newBank","FormData","forEach","value","Date","now","push","reset","setItem","stringify"],"version":3,"file":"index.a83b0d18.js.map"}