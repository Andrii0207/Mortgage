{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-62948ab5b0e8a13e.js","src/js/localstorage.js","node_modules/@parcel/runtime-js/lib/runtime-50d923ada27f0808.js","src/js/task.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"goQeC\\\":\\\"index.e971075d.js\\\",\\\"4BzQQ\\\":\\\"symbol-defs.6cc250a4.svg\\\"}\"));","const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n};\n","module.exports = require('./helpers/bundle-url').getBundleURL('goQeC') + require('./helpers/bundle-manifest').resolve(\"4BzQQ\");","import { save, load } from './localstorage.js';\nconst banksList = document.querySelector('.banks');\nconst banksInformationEl = document.querySelector('.bank-information');\nconst backdropRef = document.querySelector('[data-modal]');\nconst createNewBankBtnRef = document.querySelector('.create_new_bank');\nconst modalCloseBtnRef = document.querySelector('[data-modal-close]');\nconst overlay = document.querySelector('.overlay');\nconst startBtn = document.querySelector('.start');\nconst modalBtnCreateBank = document.querySelector(\n  '.create_new_bank-from-modal'\n);\nconst contactForm = document.querySelector('.contact-form');\nconst onBtnBankList = document.querySelectorAll('.banks__remove--button');\nconst LOCALSTORAGE_KEY = 'bank-list';\n\nlet isEdit = false;\n\nimport sprite from '../img/symbol-defs.svg';\nconsole.log(sprite);\n\nlet banks = [\n  // {\n  //   id: 1,\n  //   name: 'Mono',\n  //   interestRate: 5,\n  //   maxLoan: 500000,\n  //   minPayment: 1000,\n  //   loanTerm: 12,\n  // },\n  // {\n  //   id: 2,\n  //   name: 'Privat',\n  //   interestRate: 7,\n  //   maxLoan: 1000000,\n  //   minPayment: 5000,\n  //   loanTerm: 50,\n  // },\n];\n\n// console.log(save(LOCALSTORAGE_KEY, JSON.stringify(banks)));\nfunction createMarkupBank({ name, id }) {\n  return `<li class=\"banks__item\" data-id='${id}'>\n  <p>${name}</p>\n  <div class=\"btn-wrapper\" >\n  <button class=\"banks__edit--button banks-btn\" name=\"edit-bank\" type=\"button\">\n              <svg width=\"20\" height=\"20\">\n              <use href=\"${sprite}#icon-pencil\"></use>\n              </svg>\n  </button>\n   <button  name=\"delete-bank\" class=\"banks__remove--button banks-btn\" type=\"button\">\n              <svg width=\"20\" height=\"20\">\n              <use href=\"${sprite}#icon-x\"></use>\n              </svg>\n      </button>\n      </div>\n      </li>`;\n}\nfunction createBankList(banks, callback) {\n  return banks.map(bank => callback(bank)).join('');\n}\n\nfunction createMarkupBankInformation({\n  name,\n  interestRate,\n  maxLoan,\n  minPayment,\n  loanTerm,\n}) {\n  return `<li class=\"bank-keys\">Bank: <span class=\"bank_description\">${name}</span></li>\n      <li class=\"bank-keys\">Mortgage Size, $: <span class=\"bank_description\">${maxLoan}</span></li>\n      <li class=\"bank-keys\">Minimum down payment, $: <span class=\"bank_description\">${minPayment}</span></li>\n      <li class=\"bank-keys\">Loan period, month: <span class=\"bank_description\">${loanTerm}</span></li>\n      <li class=\"bank-keys\">Interest rate, %: <span class=\"bank_description\">${interestRate}</span></li>`;\n}\n\nlet currentBank;\n\nbanksList.addEventListener('click', event => {\n  const bankId = event.target.closest('.banks__item').dataset.id;\n  currentBank = findBankById(bankId);\n  if (event.target.nodeName === 'OL') {\n    return;\n  }\n\n  if (event.target.closest('.banks__edit--button')) {\n    isEdit = true;\n    onModalCreateNewBank();\n    console.dir(contactForm.elements);\n\n    Object.keys(currentBank).filter(key => key !== 'id').forEach(key => contactForm.elements[key].value = currentBank[key]);\n  \n  }\n  console.log(currentBank);\n  banksInformationEl.innerHTML = createMarkupBankInformation(currentBank);\n});\n\nfunction findBankById(id) {\n\n    return banks.find(bank => {\n    return Number(id) === bank.id;\n    });\n  \n}\ncreateBankListFromLocal();\n\nfunction checkBankList() {\n  if (banks.length) {\n    overlay.classList.add('hide');\n    banksList.innerHTML = '';\n    banksList.insertAdjacentHTML(\n      'beforeend',\n      createBankList(banks, createMarkupBank)\n    );\n  }\n}\n\ncreateNewBankBtnRef.addEventListener('click', onModalCreateNewBank);\nmodalBtnCreateBank.addEventListener('click', onModalCreateNewBank);\n\nfunction onModalCreateNewBank() {\n  overlay.classList.add('hide');\n  backdropRef.classList.remove('is-hidden');\n}\n\nmodalCloseBtnRef.addEventListener('click', onModalCloseBtn);\n\nfunction onModalCloseBtn() {\n  backdropRef.classList.add('is-hidden');\n}\n\nbackdropRef.addEventListener('click', onBackdropClick);\n\nfunction onBackdropClick(event) {\n  if (event.target === event.currentTarget) {\n    onModalCloseBtn();\n  }\n}\n\ndocument.addEventListener('keydown', onPushEsc);\n\nfunction onPushEsc(event) {\n  if (event.code === 'Escape') {\n    onModalCloseBtn();\n  }\n}\n\ncontactForm.addEventListener('submit', onAddNewBank);\n\nfunction onAddNewBank(event) {\n  event.preventDefault();\n  const newBank = {};\n\n  const formData = new FormData(event.target);\n\n  formData.forEach((value, name) => (newBank[name] = value));\n  newBank.id = Date.now();\n\n  if (isEdit) {\n    banks = banks.map(el => el.id === currentBank.id ? newBank : el);\n  } else banks.push(newBank);\n\n  event.target.reset();\n  onModalCloseBtn();\n  checkBankList();\n  onSetLocalStorage();\n}\n\nfunction onSetLocalStorage() {\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(banks));\n}\n\nfunction createBankListFromLocal() {\n  let savedData = localStorage.getItem(LOCALSTORAGE_KEY);\n\n  if (savedData) {\n    banks = JSON.parse(savedData);\n    checkBankList();\n  } else checkBankList();\n}\n\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$f6e2982e07753074$exports","getBundleURL","resolve","$7e98410f1e7d32f5$var$banksList","document","querySelector","$7e98410f1e7d32f5$var$banksInformationEl","$7e98410f1e7d32f5$var$backdropRef","$7e98410f1e7d32f5$var$createNewBankBtnRef","$7e98410f1e7d32f5$var$modalCloseBtnRef","$7e98410f1e7d32f5$var$overlay","$7e98410f1e7d32f5$var$modalBtnCreateBank","$7e98410f1e7d32f5$var$contactForm","$7e98410f1e7d32f5$var$LOCALSTORAGE_KEY","querySelectorAll","$7e98410f1e7d32f5$var$isEdit","console","log","$parcel$interopDefault","$7e98410f1e7d32f5$var$currentBank","savedData","$7e98410f1e7d32f5$var$banks","$7e98410f1e7d32f5$var$createMarkupBank","param","name","concat","$7e98410f1e7d32f5$var$checkBankList","callback","classList","add","innerHTML","insertAdjacentHTML","map","bank","join","$7e98410f1e7d32f5$var$onModalCreateNewBank","remove","$7e98410f1e7d32f5$var$onModalCloseBtn","addEventListener","event","interestRate","maxLoan","minPayment","loanTerm","bankId","target","closest","dataset","find","Number","nodeName","dir","elements","filter","key","forEach","localStorage","getItem","currentTarget","code","preventDefault","newBank","FormData","Date","now","el","push","reset","setItem","stringify"],"version":3,"file":"index.e971075d.js.map"}